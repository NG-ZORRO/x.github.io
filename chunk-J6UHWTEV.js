import{b as Ie,c as ze}from"./chunk-TV3EHOFZ.js";import{Aa as O,Ca as H,D as K,Ja as X,Ka as ve,Ma as J,Na as Y,P as Z,a as Ce,ab as Te,cb as De,db as ye,fb as Ne,jb as Ee,lb as Ae,p as be,qb as Me,sb as we,xa as Se}from"./chunk-6XBE4KXC.js";import{$c as N,Ab as z,Ac as ge,Ba as G,La as se,Mc as he,Nb as R,Qb as p,Rb as u,Tb as le,Ub as de,Vb as pe,Wb as m,Xb as s,Xc as y,Yb as c,Zb as x,Zc as $,ad as l,bc as ue,bd as _e,cc as me,dc as B,ea as te,ec as D,ed as W,f as ee,fa as ie,g as ne,ga as oe,ib as a,ic as f,ka as T,kc as d,lc as L,mc as k,md as C,qd as q,ra as h,rc as P,rd as S,sa as _,sc as xe,sd as E,ta as V,tc as j,td as A,ub as w,ud as v,vb as ce,wb as I,xa as re,xc as fe,ya as ae,yc as Q,zc as U}from"./chunk-WMX4TNQB.js";var M=(()=>{class n{static EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)";static EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)";static EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)";static EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)";static EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)";static EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)";static EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)";static EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)";static EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)";static EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)";static EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)";static EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)";static EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)";static EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}return n})(),fn=q("collapseMotion",[A("expanded",E({height:"*"})),A("collapsed",E({height:0,overflow:"hidden"})),A("hidden",E({height:0,overflow:"hidden",borderTopWidth:"0"})),v("expanded => collapsed",S(`150ms ${M.EASE_IN_OUT}`)),v("expanded => hidden",S(`150ms ${M.EASE_IN_OUT}`)),v("collapsed => expanded",S(`150ms ${M.EASE_IN_OUT}`)),v("hidden => expanded",S(`150ms ${M.EASE_IN_OUT}`))]),Re=q("senderHeaderCollapseMotion",[A("expanded",E({height:"*",overflow:"hidden"})),A("collapsed",E({height:0,borderBottomColor:"transparent",overflow:"hidden"})),v("expanded => collapsed",S(`300ms ${M.EASE_IN_OUT}`)),v("collapsed => expanded",S(`300ms ${M.EASE_IN_OUT}`))]);function F(n){n?.stopPropagation(),n?.preventDefault()}var ke=["*"];function Ue(n,o){if(n&1&&(ue(0),U(1),me()),n&2){let e=d(3);a(),ge(e.nxTitle())}}function $e(n,o){if(n&1&&z(0,Ue,2,1,"ng-container",5),n&2){let e=d(2);m("nzStringTemplateOutlet",e.nxTitle())}}function Fe(n,o){if(n&1){let e=D();s(0,"button",6),f("click",function(){h(e);let i=d(2);return _(i.onOpenChange(!i.nxOpen()))}),x(1,"nz-icon",7),c()}}function Ge(n,o){if(n&1&&(s(0,"div",1)(1,"div",3),p(2,$e,1,1,"ng-container"),c(),p(3,Fe,2,0,"button",4),c()),n&2){let e=d();a(2),u(e.nxTitle()?2:-1),a(),u(e.nxClosable()?3:-1)}}function Le(n,o){if(n&1&&(V(),s(0,"rect",1),x(1,"animate",2)(2,"animate",3),c()),n&2){let e=o.$implicit,t=d();R("x",e.x)("y",e.yMin)("width",t.RECT_WIDTH)("height",t.RECT_HEIGHT_MIN)("rx",t.RECT_RADIUS)("ry",t.RECT_RADIUS),a(),R("values",t.RECT_HEIGHT_MIN+"; "+t.RECT_HEIGHT_MAX+"; "+t.RECT_HEIGHT_MIN)("dur",t.DURATION+"s")("begin",e.begin+"s"),a(),R("values",e.yMin+"; "+e.yMax+"; "+e.yMin)("dur",t.DURATION+"s")("begin",e.begin+"s")}}var Pe=["input"],je=[[["","nx-sender-prefix",""]],[["","nx-sender-extend-action",""]]],Qe=["[nx-sender-prefix]","[nx-sender-extend-action]"];function We(n,o){n&1&&B(0)}function Ke(n,o){if(n&1&&z(0,We,1,0,"ng-container",5),n&2){let e=d();m("ngTemplateOutlet",e.nxHeader())}}function Ze(n,o){n&1&&k(0)}function qe(n,o){n&1&&B(0)}function Xe(n,o){if(n&1&&z(0,qe,1,0,"ng-container",5),n&2){let e=d();m("ngTemplateOutlet",e.nxActions())}}function Je(n,o){n&1&&k(0,1)}function Ye(n,o){n&1&&x(0,"nx-sender-recording-icon")}function en(n,o){n&1&&x(0,"nz-icon",11)}function nn(n,o){if(n&1){let e=D();s(0,"button",10),f("click",function(){h(e);let i=d(2);return _(i.onSpeech(!i.speechRecording()))}),p(1,Ye,1,0,"nx-sender-recording-icon")(2,en,1,0,"nz-icon",11),c()}if(n&2){let e=d(2);m("nxRootDisabled",e.innerDisabled()),a(),u(e.speechRecording()?1:2)}}function tn(n,o){if(n&1){let e=D();s(0,"button",12),f("click",function(i){h(e);let r=d(2);return _(r.onCancel(i))}),x(1,"nx-sender-stop-loading-icon"),c()}if(n&2){let e=d(2);m("nxSelfDisabled",!e.nxLoading())("nxRootDisabled",e.innerDisabled())}}function on(n,o){if(n&1){let e=D();s(0,"button",13),f("click",function(i){h(e);let r=d(2);return _(r.onSubmit(i))}),x(1,"nz-icon",14),c()}if(n&2){let e=d(2);m("nxSelfDisabled",!e.innerValue())("nxRootDisabled",e.innerDisabled())}}function rn(n,o){if(n&1&&(s(0,"div",3)(1,"div",6),p(2,Je,1,0),p(3,nn,3,2,"button",7),p(4,tn,2,2,"button",8)(5,on,2,2,"button",9),c()()),n&2){let e=d();a(2),u(e.actionChildren().length>0?2:-1),a(),u(e.nxAllowSpeech()?3:-1),a(),u(e.nxLoading()?4:5)}}function an(n,o){n&1&&B(0)}function sn(n,o){if(n&1&&(s(0,"div",4),z(1,an,1,0,"ng-container",5),c()),n&2){let e=d();a(),m("ngTemplateOutlet",e.nxFooter())}}var Wn=(()=>{class n{visible=G(!1);mouse=G({x:0,y:0});elementRef=T(se);containerBg=y(()=>{let{x:e,y:t}=this.mouse();return{background:`
        radial-gradient(
          ${this.visible()?"100px":"0px"} circle at ${e}px ${t}px,
          #3b82f6,
          transparent 80%
        )
      `}});handleMouseMove({clientX:e,clientY:t}){let{left:i,top:r}=this.elementRef.nativeElement.getBoundingClientRect();this.mouse.set({x:e-i,y:t-r})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=I({type:n,selectors:[["nx-sender","nxGlowingBorder",""]],hostAttrs:[1,"ant-sender-glowing"],hostVars:2,hostBindings:function(t,i){t&1&&f("mousemove",function(g){return i.handleMouseMove(g)})("mouseenter",function(){return i.visible.set(!0)})("mouseleave",function(){return i.visible.set(!1)}),t&2&&fe(i.containerBg())}})}return n})(),Oe=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=I({type:n,selectors:[["","nx-sender-prefix",""]],hostAttrs:[1,"ant-sender-prefix"],exportAs:["nxSenderPrefix"]})}return n})(),He=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=I({type:n,selectors:[["","nx-sender-extend-action",""]],exportAs:["nxSenderExtendAction"]})}return n})(),cn=(()=>{class n{nxTitle=l(null);nxOpen=l(!1,{transform:C});nxClosable=l(!0,{transform:C});nxOpenChange=N();onOpenChange(e){this.nxOpenChange.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["nx-sender-header"]],inputs:{nxTitle:[1,"nxTitle"],nxOpen:[1,"nxOpen"],nxClosable:[1,"nxClosable"]},outputs:{nxOpenChange:"nxOpenChange"},ngContentSelectors:ke,decls:4,vars:2,consts:[[1,"ant-sender-header"],[1,"ant-sender-header-header"],[1,"ant-sender-header-content"],[1,"ant-sender-header-title"],["nz-button","","nzType","text","nzSize","small",1,"ant-sender-header-close"],[4,"nzStringTemplateOutlet"],["nz-button","","nzType","text","nzSize","small",1,"ant-sender-header-close",3,"click"],["nzType","close","nzTheme","outline"]],template:function(t,i){t&1&&(L(),s(0,"div",0),p(1,Ge,4,2,"div",1),s(2,"div",2),k(3),c()()),t&2&&(m("@senderHeaderCollapseMotion",i.nxOpen()?"expanded":"collapsed"),a(),u(i.nxClosable()||i.nxTitle()?1:-1))},dependencies:[Y,J,X,H,O,Se],encapsulation:2,data:{animation:[Re]}})}return n})(),ln=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["nx-sender-stop-loading-icon"]],decls:8,vars:0,consts:[["color","currentColor","viewBox","0 0 1000 1000","xmlns","http://www.w3.org/2000/svg",1,"ant-sender-actions-btn-loading-icon"],["fill","currentColor","height","250","rx","24","ry","24","width","250","x","375","y","375"],["cx","500","cy","500","fill","none","r","450","stroke","currentColor","stroke-width","100","opacity","0.45"],["cx","500","cy","500","fill","none","r","450","stroke","currentColor","stroke-width","100","stroke-dasharray","600 9999999"],["attributeName","transform","dur","1s","from","0 500 500","repeatCount","indefinite","to","360 500 500","type","rotate"]],template:function(t,i){t&1&&(s(0,"nz-icon"),V(),s(1,"svg",0)(2,"title"),U(3,"Stop Loading"),c(),x(4,"rect",1)(5,"circle",2),s(6,"circle",3),x(7,"animateTransform",4),c()()())},dependencies:[H,O],encapsulation:2,changeDetection:0})}return n})(),dn=(()=>{class n{SIZE=1e3;COUNT=4;RECT_WIDTH=140;RECT_RADIUS=this.RECT_WIDTH/2;RECT_HEIGHT_MIN=250;RECT_HEIGHT_MAX=500;DURATION=.8;get bars(){return Array.from({length:this.COUNT}).map((e,t)=>{let i=(this.SIZE-this.RECT_WIDTH*this.COUNT)/(this.COUNT-1),r=t*(i+this.RECT_WIDTH),g=this.SIZE/2-this.RECT_HEIGHT_MIN/2,b=this.SIZE/2-this.RECT_HEIGHT_MAX/2;return{x:r,yMin:g,yMax:b,index:t,begin:this.DURATION/this.COUNT*t}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["nx-sender-recording-icon"]],hostAttrs:[2,"display","flex"],decls:6,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","color","currentColor",1,"ant-sender-actions-btn-recording-icon"],["fill","currentColor"],["attributeName","height","keyTimes","0; 0.5; 1","repeatCount","indefinite"],["attributeName","y","keyTimes","0; 0.5; 1","repeatCount","indefinite"]],template:function(t,i){t&1&&(s(0,"nz-icon"),V(),s(1,"svg",0)(2,"title"),U(3,"Speech Recording"),c(),de(4,Le,3,12,":svg:rect",1,le),c()()),t&2&&(a(),R("viewBox","0 0 "+i.SIZE+" "+i.SIZE),a(3),pe(i.bars))},dependencies:[H,O],encapsulation:2,changeDetection:0})}return n})(),pn=(()=>{class n{_CLASSNAME="ant-sender-actions-btn";nxSelfDisabled=l(!1,{transform:C});nxRootDisabled=l(!1,{transform:C});nxActionType=l("send");mergedDisabled=y(()=>this.nxRootDisabled()||this.nxSelfDisabled());hostClass=y(()=>{let e=[this._CLASSNAME,"ant-btn-icon-only"];return this.mergedDisabled()&&e.push(this.generateClass("disabled")),this.nxActionType()==="loading"?e.push(this.generateClass("loading-button")):this.nxActionType()==="speech"&&e.push(this.generateClass("speech-button")),e});onClick(e){if(this.mergedDisabled()){F(e);return}}generateClass(e){return`${this._CLASSNAME}-${e}`}static \u0275fac=function(t){return new(t||n)};static \u0275dir=I({type:n,selectors:[["button","nxSenderBuiltInAction",""]],hostVars:2,hostBindings:function(t,i){t&1&&f("click",function(g){return i.onClick(g)}),t&2&&Q(i.hostClass())},inputs:{nxSelfDisabled:[1,"nxSelfDisabled"],nxRootDisabled:[1,"nxRootDisabled"],nxActionType:[1,"nxActionType"]}})}return n})(),Ve=(()=>{class n{document=T(re);recognition;_supported=!1;recording$=new ne(!1);transcript$=new ee;recordingChange=this.recording$.asObservable();transcriptChange=this.transcript$.asObservable();get supported(){return this._supported}constructor(){this.checkSupport()}checkSupport(){let e;typeof this.document.defaultView<"u"&&(e=this.document.defaultView.SpeechRecognition||this.document.defaultView.webkitSpeechRecognition),this._supported=!!e,this._supported&&(this.recognition=new e,this.setupRecognition())}setupRecognition(){this.recognition.lang=navigator.language||"en-US",this.recognition.onstart=()=>{this.recording$.next(!0)},this.recognition.onend=()=>{this.recording$.next(!1)},this.recognition.onresult=e=>{let t=e.results?.[0]?.[0]?.transcript;t&&this.transcript$.next(t)}}onStart(){if(!this._supported){Z("Speech recognition is not supported in this browser");return}navigator.permissions.query({name:"microphone"}).then(()=>{this.recognition.start()}).catch(e=>{Z("Error accessing microphone:",e)})}onStop(){this.recognition&&this.recording$.value&&this.recognition.stop()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),Be="ant-sender",un=n=>typeof n=="boolean"||typeof n=="object"?n:n!=null&&n!=="false",mn=(()=>{class n{inputElement=_e.required("input");directionality=T(be);destroyRef=T(ae);speechService=T(Ve);prefixChildren=W(Oe);actionChildren=W(He);nxActions=l();nxHeader=l();nxFooter=l();nxLoading=l(!1,{transform:C});nxReadonly=l(!1,{transform:C});nxDisabled=l(!1,{transform:C});nxAllowSpeech=l(!1,{transform:un});nxValue=l("");nxSubmitType=l("enter");nxPlaceholder=l("");nxSubmit=N();nxChange=N();nxCancel=N();nxPasteFile=N();dir=this.directionality.valueSignal;innerDisabled=$(this.nxDisabled);innerValue=$(this.nxValue);speechInControlled=y(()=>{let e=this.nxAllowSpeech();return typeof e=="object"?typeof e.recording=="boolean":!1});speechRecording=$({source:this.nxAllowSpeech,computation:e=>this.speechInControlled()?!!e.recording:!1});hostClass=y(()=>{let e=[Be];return this.innerDisabled()&&e.push(this.generateClass("disabled")),this.dir()==="rtl"&&e.push(this.generateClass("rtl")),e});ngOnInit(){!this.speechInControlled()&&this.speechService.supported&&(this.speechService.recordingChange.pipe(K(this.destroyRef)).subscribe(e=>{this.speechRecording.set(e)}),this.speechService.transcriptChange.pipe(K(this.destroyRef)).subscribe(e=>{this.valueChange(`${this.innerValue()} ${e}`)}))}valueChange(e){this.innerValue.set(e),this.fnChange(e),this.nxChange.emit(e),this.speechRecording()&&this.onSpeech(!1)}onSubmit(e){F(e),this.innerValue()&&!this.nxLoading()&&this.nxSubmit.emit()}onCancel(e){F(e),this.nxCancel.emit()}onSpeech(e){this.speechInControlled()?this.nxAllowSpeech().onRecordingChange?.(e):e?this.speechService.onStart():this.speechService.onStop()}onKeyPress(e){let t=e.key==="Enter";switch(this.nxSubmitType()){case"enter":t&&!e.shiftKey&&this.onSubmit(e);break;case"shiftEnter":t&&e.shiftKey&&this.onSubmit(e)}}onContentMouseDown(e){e.target!==this.inputElement()?.nativeElement&&e.preventDefault(),this.inputElement()?.nativeElement.focus()}generateClass(e){return`${Be}-${e}`}fnChange=()=>{};fnTouched=()=>{};registerOnChange(e){this.fnChange=e}registerOnTouched(e){this.fnTouched=e}writeValue(e){this.innerValue.set(e),this.nxChange.emit(e)}setDisabledState(e){this.innerDisabled.set(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["nx-sender"]],contentQueries:function(t,i,r){t&1&&(P(r,i.prefixChildren,Oe,4),P(r,i.actionChildren,He,4)),t&2&&j(2)},viewQuery:function(t,i){t&1&&xe(i.inputElement,Pe,5),t&2&&j()},hostVars:2,hostBindings:function(t,i){t&2&&Q(i.hostClass())},inputs:{nxActions:[1,"nxActions"],nxHeader:[1,"nxHeader"],nxFooter:[1,"nxFooter"],nxLoading:[1,"nxLoading"],nxReadonly:[1,"nxReadonly"],nxDisabled:[1,"nxDisabled"],nxAllowSpeech:[1,"nxAllowSpeech"],nxValue:[1,"nxValue"],nxSubmitType:[1,"nxSubmitType"],nxPlaceholder:[1,"nxPlaceholder"]},outputs:{nxSubmit:"nxSubmit",nxChange:"nxChange",nxCancel:"nxCancel",nxPasteFile:"nxPasteFile"},exportAs:["nxSender"],features:[he([Ve,{provide:Te,useExisting:te(()=>n),multi:!0}])],ngContentSelectors:Qe,decls:8,vars:8,consts:[["input",""],[1,"ant-sender-content",3,"mousedown"],["nz-input","","nzAutosize","","nzVariant","borderless",1,"ant-sender-input",3,"ngModelChange","keydown","disabled","readOnly","placeholder","ngModel"],[1,"ant-sender-actions-list"],[1,"ant-sender-footer"],[4,"ngTemplateOutlet"],["nz-flex","","nzAlign","center","nzJustify","center",1,"ant-sender-actions-list-presets"],["nz-button","","nxSenderBuiltInAction","","nzType","text","nxActionType","speech",3,"nxRootDisabled"],["nz-button","","nxSenderBuiltInAction","","nxActionType","loading","nzType","text","nzShape","circle",3,"nxSelfDisabled","nxRootDisabled"],["nz-button","","nxSenderBuiltInAction","","nzType","primary","nzShape","circle","nxActionType","send",3,"nxSelfDisabled","nxRootDisabled"],["nz-button","","nxSenderBuiltInAction","","nzType","text","nxActionType","speech",3,"click","nxRootDisabled"],["nzType","audio","nzTheme","outline"],["nz-button","","nxSenderBuiltInAction","","nxActionType","loading","nzType","text","nzShape","circle",3,"click","nxSelfDisabled","nxRootDisabled"],["nz-button","","nxSenderBuiltInAction","","nzType","primary","nzShape","circle","nxActionType","send",3,"click","nxSelfDisabled","nxRootDisabled"],["nzType","arrow-up","nzTheme","outline"]],template:function(t,i){if(t&1){let r=D();L(je),p(0,Ke,1,1,"ng-container"),s(1,"div",1),f("mousedown",function(b){return h(r),_(i.onContentMouseDown(b))}),p(2,Ze,1,0),s(3,"textarea",2,0),f("ngModelChange",function(b){return h(r),_(i.valueChange(b))})("keydown",function(b){return h(r),_(i.onKeyPress(b))}),c(),p(5,Xe,1,1,"ng-container")(6,rn,6,3,"div",3),c(),p(7,sn,2,1,"div",4)}t&2&&(u(i.nxHeader()?0:-1),a(2),u(i.prefixChildren().length>0?2:-1),a(),m("disabled",i.innerDisabled())("readOnly",i.nxReadonly())("placeholder",i.nxPlaceholder())("ngModel",i.innerValue()),a(2),u(i.nxActions()?5:i.nxActions()===void 0?6:-1),a(2),u(i.nxFooter()?7:-1))},dependencies:[Ee,De,ye,Ne,Y,J,X,ve,ze,Ie,H,O,we,Me,Ae,pn,ln,Ce,dn],encapsulation:2,changeDetection:0})}return n})();var Kn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ce({type:n});static \u0275inj=oe({imports:[mn,cn]})}return n})();export{Wn as a,Oe as b,He as c,cn as d,mn as e,Kn as f};
