{"highlightCode":"<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> markdown <span class=\"token keyword\">from</span> <span class=\"token string\">'markdown-it'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NzSanitizerPipe <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ng-zorro-antd/pipes'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NzTypographyModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ng-zorro-antd/typography'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NxBubbleModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ng-zorro-x/bubble'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> md <span class=\"token operator\">=</span> <span class=\"token function\">markdown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> html<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> breaks<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> `\n<span class=\"token operator\">></span> Render <span class=\"token keyword\">as</span> markdown content to show rich text<span class=\"token operator\">!</span>\n\nLink<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Ant Design <span class=\"token constant\">X</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>x<span class=\"token punctuation\">.</span>ant<span class=\"token punctuation\">.</span>design<span class=\"token punctuation\">)</span>\n`<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Component</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token operator\">:</span> <span class=\"token string\">'nx-demo-bubble-content-render'</span><span class=\"token punctuation\">,</span>\n  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>NxBubbleModule<span class=\"token punctuation\">,</span> NzTypographyModule<span class=\"token punctuation\">,</span> NzSanitizerPipe<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token template-string\">template: <span class=\"token html\">`\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nx-bubble</span> <span class=\"token attr-name\">[nxContent]</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">[nxTyping]</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">[nxMessageRender]</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>messageRender<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">[nxAvatar]</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{ icon: 'user' }<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nx-bubble</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#messageRender</span> <span class=\"token attr-name\">let-text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nz-typography</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">[innerHTML]</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>render(text) | nzSanitizer: 'html'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nz-typography</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n  `</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NxDemoBubbleContentRenderComponent</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">readonly</span> content <span class=\"token operator\">=</span> text<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>content<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> md<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n","rawCode":"import { Component } from '@angular/core';\n\nimport markdown from 'markdown-it';\n\nimport { NzSanitizerPipe } from 'ng-zorro-antd/pipes';\nimport { NzTypographyModule } from 'ng-zorro-antd/typography';\n\nimport { NxBubbleModule } from 'ng-zorro-x/bubble';\n\nconst md = markdown({ html: true, breaks: true });\nconst text = `\n> Render as markdown content to show rich text!\n\nLink: [Ant Design X](https://x.ant.design)\n`.trim();\n\n@Component({\n  selector: 'nx-demo-bubble-content-render',\n  imports: [NxBubbleModule, NzTypographyModule, NzSanitizerPipe],\n  template: `\n    <nx-bubble [nxContent]=\"content\" [nxTyping]=\"true\" [nxMessageRender]=\"messageRender\" [nxAvatar]=\"{ icon: 'user' }\">\n    </nx-bubble>\n    <ng-template #messageRender let-text=\"content\">\n      <nz-typography>\n        <div [innerHTML]=\"render(text) | nzSanitizer: 'html'\"></div>\n      </nz-typography>\n    </ng-template>\n  `\n})\nexport class NxDemoBubbleContentRenderComponent {\n  readonly content = text;\n\n  render(content: string): string {\n    return md.render(content);\n  }\n}\n"}
