import{$ as P,Aa as Ne,Ca as Oe,G as q,I as Q,J as De,V as Ee,a as we,na as J,p as Re,t as W}from"./chunk-6XBE4KXC.js";import{$c as O,Ab as ce,Ba as G,Bb as de,C as T,La as ae,Mb as ze,Mc as Ce,Nb as pe,Qb as w,Rb as R,S as ie,Sb as ue,Tc as Se,Ub as he,Vb as me,Wb as A,X as se,Xb as D,Xc as x,Yb as E,Z as U,Zb as I,Zc as xe,ad as h,bd as _e,dc as fe,ec as V,ed as ye,f as ne,ga as oe,ib as M,ic as B,ka as y,kc as g,lc as ge,mc as ve,md as Z,ra as H,rc as be,sa as L,sc as Me,t as _,tc as X,ub as k,vb as le,vc as Y,wc as N,xa as re}from"./chunk-WMX4TNQB.js";function K(s){return Ee(s)?s.touches[0]||s.changedTouches[0]:s}var tt=W({passive:!0});var He=["nz-splitter-bar",""];function Le(s,v){if(s&1&&I(0,"div",4),s&2){let e=g(),n=e.active()&&!!e.constrainedOffset();Y("transform",n?e.previewTransform():null),N("ant-splitter-bar-preview-active",n)}}function Ae(s,v){if(s&1){let e=V();D(0,"div",5),B("click",function(){H(e);let t=g();return L(t.collapseEvent("start"))}),I(1,"nz-icon",6),E()}if(s&2){let e=g();M(),A("nzType",e.vertical()?"up":"left")}}function Ie(s,v){if(s&1){let e=V();D(0,"div",7),B("click",function(){H(e);let t=g();return L(t.collapseEvent("end"))}),I(1,"nz-icon",8),E()}if(s&2){let e=g();M(),A("nzType",e.vertical()?"down":"right")}}var Be=["contentTemplate"],$e=["*"];function ke(s,v){s&1&&ve(0)}function Ve(s,v){s&1&&fe(0)}function We(s,v){if(s&1){let e=V();D(0,"div",4),B("offsetStart",function(t){H(e);let o=g().$index,i=g();return L(i.startResize(o,t))})("collapse",function(t){H(e);let o=g().$index,i=g();return L(i.collapse(o,t))}),E()}if(s&2){let e,n=g().$index,t=g(),o=t.resizableInfos()[n],i=t.ariaInfos()[n];ze("ariaNow",i.ariaNow)("ariaMin",i.ariaMin)("ariaMax",i.ariaMax),A("resizable",o.resizable)("collapsible",o.collapsible)("active",((e=t.movingIndex())==null?null:e.index)===n)("vertical",t.nzLayout()==="vertical")("lazy",t.nzLazy())("constrainedOffset",t.constrainedOffset())}}function Fe(s,v){if(s&1&&(D(0,"div",1),ce(1,Ve,1,0,"ng-container",2),E(),w(2,We,1,9,"div",3)),s&2){let e=v.$implicit,n=v.$index,t=v.$count,o=g().sizes()[n],i=o.size?o.size:"auto",a=o.size?0:1;Y("flex-basis",i)("flex-grow",a),N("ant-splitter-panel-hidden",o.postPxSize===0),M(),A("ngTemplateOutlet",e.contentTemplate),M(),R(n!==t-1?2:-1)}}function je(s,v){if(s&1&&I(0,"div",5),s&2){let e=g();N("ant-splitter-mask-horizontal",e.nzLayout()==="horizontal")("ant-splitter-mask-vertical",e.nzLayout()==="vertical")}}var Ue=(()=>{class s{ariaNow=h.required();ariaMin=h.required();ariaMax=h.required();active=h(!1);resizable=h(!0);vertical=h();lazy=h(!1);collapsible=h();constrainedOffset=h();offsetStart=O();collapse=O();previewTransform=x(()=>{let e=Q(this.constrainedOffset());return this.vertical()?`translateY(${e})`:`translateX(${e})`});resizeStartEvent(e){if(this.resizable()){let{pageX:n,pageY:t}=K(e);this.offsetStart.emit([n,t])}}collapseEvent(e){this.collapse.emit(e)}getValidNumber(e){return typeof e=="number"&&!isNaN(e)?Math.round(e):0}static \u0275fac=function(n){return new(n||s)};static \u0275cmp=k({type:s,selectors:[["","nz-splitter-bar",""]],hostAttrs:["role","separator",1,"ant-splitter-bar"],hostVars:3,hostBindings:function(n,t){n&2&&pe("aria-valuenow",t.getValidNumber(t.ariaNow()))("aria-valuemin",t.getValidNumber(t.ariaMin()))("aria-valuemax",t.getValidNumber(t.ariaMax()))},inputs:{ariaNow:[1,"ariaNow"],ariaMin:[1,"ariaMin"],ariaMax:[1,"ariaMax"],active:[1,"active"],resizable:[1,"resizable"],vertical:[1,"vertical"],lazy:[1,"lazy"],collapsible:[1,"collapsible"],constrainedOffset:[1,"constrainedOffset"]},outputs:{offsetStart:"offsetStart",collapse:"collapse"},attrs:He,decls:4,vars:7,consts:[[1,"ant-splitter-bar-preview",3,"ant-splitter-bar-preview-active","transform"],[1,"ant-splitter-bar-dragger",3,"mousedown","touchstart"],[1,"ant-splitter-bar-collapse-bar","ant-splitter-bar-collapse-bar-start"],[1,"ant-splitter-bar-collapse-bar","ant-splitter-bar-collapse-bar-end"],[1,"ant-splitter-bar-preview"],[1,"ant-splitter-bar-collapse-bar","ant-splitter-bar-collapse-bar-start",3,"click"],[1,"ant-splitter-bar-collapse-icon","ant-splitter-bar-collapse-start",3,"nzType"],[1,"ant-splitter-bar-collapse-bar","ant-splitter-bar-collapse-bar-end",3,"click"],[1,"ant-splitter-bar-collapse-icon","ant-splitter-bar-collapse-end",3,"nzType"]],template:function(n,t){if(n&1&&(w(0,Le,1,4,"div",0),D(1,"div",1),B("mousedown",function(i){return t.resizeStartEvent(i)})("touchstart",function(i){return t.resizeStartEvent(i)}),E(),w(2,Ae,2,1,"div",2),w(3,Ie,2,1,"div",3)),n&2){let o,i;R(t.lazy()?0:-1),M(),N("ant-splitter-bar-dragger-disabled",!t.resizable())("ant-splitter-bar-dragger-active",t.active()),M(),R((o=t.collapsible())!=null&&o.start?2:-1),M(),R((i=t.collapsible())!=null&&i.end?3:-1)}},dependencies:[Oe,Ne],encapsulation:2,changeDetection:0})}return s})(),Pe=(()=>{class s{nzDefaultSize=h();nzMin=h();nzMax=h();nzSize=h();nzCollapsible=h(!1);nzResizable=h(!0,{transform:Z});contentTemplate=_e.required("contentTemplate");static \u0275fac=function(n){return new(n||s)};static \u0275cmp=k({type:s,selectors:[["nz-splitter-panel"]],viewQuery:function(n,t){n&1&&Me(t.contentTemplate,Be,5),n&2&&X()},inputs:{nzDefaultSize:[1,"nzDefaultSize"],nzMin:[1,"nzMin"],nzMax:[1,"nzMax"],nzSize:[1,"nzSize"],nzCollapsible:[1,"nzCollapsible"],nzResizable:[1,"nzResizable"]},exportAs:["nzSplitterPanel"],ngContentSelectors:$e,decls:2,vars:0,consts:[["contentTemplate",""]],template:function(n,t){n&1&&(ge(),de(0,ke,1,0,"ng-template",null,0,Se))},encapsulation:2,changeDetection:0})}return s})();function $(s){return Number(s.slice(0,-1))/100}function ee(s){return typeof s=="string"&&s.endsWith("%")}function Ge(s){if(s&&typeof s=="object")return s;let v=!!s;return{start:v,end:v}}var Te=W({passive:!0}),Xe=(()=>{class s{nzLayout=h("horizontal");nzLazy=h(!1,{transform:Z});nzResizeStart=O();nzResize=O();nzResizeEnd=O();destroy$=y(J);elementRef=y(ae);directionality=y(Re);resizeObserver=y(De);document=y(re);dir=q(this.directionality.change,{initialValue:this.directionality.value});panels=ye(Pe);panelProps=x(()=>this.panels().map(e=>({defaultSize:e.nzDefaultSize(),size:e.nzSize(),min:e.nzMin(),max:e.nzMax(),resizable:e.nzResizable(),collapsible:Ge(e.nzCollapsible()),contentTemplate:e.contentTemplate()})));containerBox=q(this.resizeObserver.observe(this.elementRef).pipe(_(([e])=>e.target),_(e=>({width:e.clientWidth,height:e.clientHeight}))),{initialValue:{width:this.elementRef.nativeElement.clientWidth||0,height:this.elementRef.nativeElement.clientHeight||0}});containerSize=x(()=>this.nzLayout()==="horizontal"?this.containerBox().width:this.containerBox().height);innerSizes=xe({source:this.panelProps,computation:e=>e.map(n=>n.defaultSize)});sizes=x(()=>{let e=0,n=this.containerSize(),t=this.innerSizes(),o=this.panelProps().map((a,r)=>{let l=a.size??t[r],c;if(ee(l))c=$(l);else if(l||l===0){let f=Number(l);isNaN(f)||(c=f/n)}else c=void 0,e++;let p=a.min,m=a.max,z=ee(p)?$(p):(p||0)/n,b=ee(m)?$(m):(m||n)/n;return{size:l,percentage:c,min:p,max:m,postPercentMinSize:z,postPercentMaxSize:b}}),i=o.reduce((a,{percentage:r})=>a+(r??0),0);for(let a of o){if(i>1&&!e){let r=1/i;a.percentage=a.percentage===void 0?0:a.percentage*r}else{let r=(1-i)/e;a.percentage=a.percentage===void 0?r:a.percentage}a.postPxSize=a.percentage*n,a.size=n?Q(a.postPxSize):a.size}return o});ariaInfos=x(()=>{let e=[],n=[],t=this.sizes(),o=0;for(let i of t)o+=i.percentage,e.push(o);for(let i=0;i<t.length-1;i+=1){let a=(e[i-1]||0)+t[i].postPercentMinSize,r=(e[i+1]||100)-t[i+1].postPercentMaxSize,l=(e[i-1]||0)+t[i].postPercentMaxSize,c=(e[i+1]||100)-t[i+1].postPercentMinSize;n.push({ariaNow:e[i]*100,ariaMin:Math.max(a,r)*100,ariaMax:Math.min(l,c)*100})}return n});getPxSizes(){return this.sizes().map(e=>e.postPxSize)}movingIndex=G(null);constrainedOffset=G(0);resizableInfos=x(()=>{let e=this.panelProps(),n=this.getPxSizes(),t=[];for(let o=0;o<e.length-1;o+=1){let i=e[o],a=e[o+1],r=n[o],l=n[o+1],{resizable:c=!0,min:p,collapsible:m}=i,{resizable:z=!0,min:b,collapsible:f}=a,u=c&&z&&(r!==0||!p)&&(l!==0||!b),d=m.end&&r>0||f.start&&l===0&&r>0,C=f.start&&l>0||m.end&&r===0&&l>0;t[o]={resizable:u,collapsible:{start:!!(this.dir()==="rtl"?C:d),end:!!(this.dir()==="rtl"?d:C)}}}return t});startResize(e,n){this.movingIndex.set({index:e,confirmed:!1}),this.nzResizeStart.emit(this.getPxSizes());let t=new ne,o=r=>{let{percentage:l,postPercentMinSize:c,postPercentMaxSize:p}=this.sizes()[e],[m,z,b]=[l,c,p].map(S=>S*100),f=this.containerSize(),u=f*m/100,d=u+r,C=Math.max(0,f*z/100),te=Math.min(f,f*b/100);return Math.max(C,Math.min(te,d))-u},i=r=>{this.constrainedOffset.set(o(r))},a=()=>{this.updateOffset(e,this.constrainedOffset()),this.constrainedOffset.set(0)};T(P(this.document,"mousemove",Te),P(this.document,"touchmove",Te)).pipe(_(r=>K(r)),_(({pageX:r,pageY:l})=>this.nzLayout()==="horizontal"?r-n[0]:l-n[1]),_(r=>this.nzLayout()==="horizontal"&&this.dir()==="rtl"?-r:r),se(0),ie(),U(T(t,this.destroy$))).subscribe(([r,l])=>{if(this.nzLazy()&&l!==0)i(l);else{let c=l-r;c!==0&&this.updateOffset(e,c)}}),T(P(this.document,"mouseup"),P(this.document,"touchend")).pipe(U(T(t,this.destroy$))).subscribe(()=>{this.nzLazy()&&a(),this.movingIndex.set(null),this.nzResizeEnd.emit(this.getPxSizes()),t.next()})}updateOffset(e,n){let t=this.containerSize(),o=this.sizes().map(d=>[d.min,d.max]),i=this.sizes().map(d=>d.percentage*t),a=(d,C)=>typeof d=="string"?$(d)*t:d??C,r=null,l=this.movingIndex();if((!l||!l.confirmed)&&n!==0){if(n>0)r=e,this.movingIndex.set({index:e,confirmed:!0});else for(let d=e;d>=0;d-=1)if(i[d]>0&&this.resizableInfos()[d].resizable){r=d,this.movingIndex.set({index:d,confirmed:!0});break}}let c=r??e,p=c+1,m=a(o[c][0],0),z=a(o[p][0],0),b=a(o[c][1],t),f=a(o[p][1],t),u=n;i[c]+u<m&&(u=m-i[c]),i[p]-u<z&&(u=i[p]-z),i[c]+u>b&&(u=b-i[c]),i[p]-u>f&&(u=i[p]-f),i[c]+=u,i[p]-=u,this.innerSizes.set(i),this.nzResize.emit(i)}cacheCollapsedSize=[];collapse(e,n){let t=this.containerSize(),o=this.sizes().map(z=>[z.min,z.max]),i=this.sizes().map(z=>z.percentage*t),a=this.dir()==="rtl"?n==="start"?"end":"start":n,r=a==="start"?e:e+1,l=a=="start"?e+1:e,c=i[r],p=i[l],m=(z,b)=>typeof z=="string"?$(z)*t:z??b;if(c!==0&&p!==0)i[r]=0,i[l]+=c,this.cacheCollapsedSize[e]=c;else{let z=c+p,b=m(o[r][0],0),f=m(o[r][1],t),u=m(o[l][0],0),d=m(o[l][1],t),C=Math.max(b,z-d),F=(Math.min(f,z-u)-C)/2,S=this.cacheCollapsedSize[e],j=z-S;S&&S<=d&&S>=u&&j<=f&&j>=b?(i[l]=S,i[r]=j):(i[r]-=F,i[l]+=F)}this.innerSizes.set(i),this.nzResize.emit(i),this.nzResizeEnd.emit(i)}static \u0275fac=function(n){return new(n||s)};static \u0275cmp=k({type:s,selectors:[["nz-splitter"]],contentQueries:function(n,t,o){n&1&&be(o,t.panels,Pe,4),n&2&&X()},hostAttrs:[1,"ant-splitter"],hostVars:6,hostBindings:function(n,t){n&2&&N("ant-splitter-horizontal",t.nzLayout()==="horizontal")("ant-splitter-vertical",t.nzLayout()==="vertical")("ant-splitter-rtl",t.dir()==="rtl")},inputs:{nzLayout:[1,"nzLayout"],nzLazy:[1,"nzLazy"]},outputs:{nzResizeStart:"nzResizeStart",nzResize:"nzResize",nzResizeEnd:"nzResizeEnd"},exportAs:["nzSplitter"],features:[Ce([J])],decls:3,vars:1,consts:[["aria-hidden","",1,"ant-splitter-mask",3,"ant-splitter-mask-horizontal","ant-splitter-mask-vertical"],[1,"ant-splitter-panel"],[4,"ngTemplateOutlet"],["nz-splitter-bar","",3,"ariaNow","ariaMin","ariaMax","resizable","collapsible","active","vertical","lazy","constrainedOffset"],["nz-splitter-bar","",3,"offsetStart","collapse","ariaNow","ariaMin","ariaMax","resizable","collapsible","active","vertical","lazy","constrainedOffset"],["aria-hidden","",1,"ant-splitter-mask"]],template:function(n,t){n&1&&(he(0,Fe,3,8,null,null,ue),w(2,je,1,4,"div",0)),n&2&&(me(t.panelProps()),M(2),R(t.movingIndex()!==null?2:-1))},dependencies:[we,Ue],encapsulation:2,changeDetection:0})}return s})(),xt=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275mod=le({type:s});static \u0275inj=oe({imports:[Xe]})}return s})();export{Pe as a,Xe as b,xt as c};
