import{a as me,b as ge}from"./chunk-AEURZ62J.js";import{D as xe,E as pe,F,a as de,xa as ue,ya as be}from"./chunk-6XBE4KXC.js";import{$c as re,Ab as d,Ac as ne,B as w,Ba as U,Bc as N,Gc as te,Hc as ie,Ic as O,La as j,Oc as oe,Qb as x,Rb as p,Tc as ae,Ub as G,Vb as q,Wb as c,Xb as u,Xc as f,Yb as b,Yc as S,Zb as Q,Zc as le,_ as V,ac as W,ad as r,bc as y,cc as h,cd as se,dc as g,ec as L,ga as P,ib as s,ic as T,ka as z,kc as l,lc as Y,mc as J,md as ce,ra as D,sa as B,sc as K,t as H,tc as X,ub as v,uc as A,vb as $,wb as R,wc as Z,xc as ee,yc as I,zc as _}from"./chunk-WMX4TNQB.js";import{a as m,b as k}from"./chunk-OW75ZOQB.js";var fe=[[["nz-avatar","nx-bubble-avatar",""]]],Ce=["nz-avatar[nx-bubble-avatar]"],ve=e=>({content:e});function ye(e,i){if(e&1){let n=L();u(0,"nz-avatar",3),T("nzError",function(o){D(n),l();let a=O(0);return B(a.error==null?null:a.error(o))}),b()}if(e&2){l();let n=O(0);ee(n.style),c("nzShape",n.shape)("nzSize",n.size)("nzGap",n.gap)("nzText",n.text)("nzSrc",n.src)("nzSrcSet",n.srcSet)("nzAlt",n.alt)("nzIcon",n.icon)}}function he(e,i){if(e&1&&(te(0),x(1,ye,1,10,"nz-avatar",2)),e&2){let n=ie(l().nxAvatar());s(),p(n?1:-1)}}function Te(e,i){if(e&1&&(y(0),_(1),h()),e&2){let n=l(3);s(),N(" ",n.nxHeader()," ")}}function Ne(e,i){if(e&1&&(u(0,"div",4),d(1,Te,2,1,"ng-container",7),b()),e&2){let n=l(2);s(),c("nzStringTemplateOutlet",n.nxHeader())("nzStringTemplateOutletContext",n.templateContext())}}function Se(e,i){e&1&&g(0)}function Me(e,i){if(e&1&&(y(0),_(1),h()),e&2){let n=l(3);s(),N(" ",n.nxFooter()," ")}}function ze(e,i){if(e&1&&(u(0,"div",6),d(1,Me,2,1,"ng-container",7),b()),e&2){let n=l(2);s(),c("nzStringTemplateOutlet",n.nxFooter())("nzStringTemplateOutletContext",n.templateContext())}}function De(e,i){if(e&1&&(u(0,"div",1),x(1,Ne,2,2,"div",4),d(2,Se,1,0,"ng-container",5),x(3,ze,2,2,"div",6),b()),e&2){let n=l(),t=A(5);s(),p(n.nxHeader()?1:-1),s(),c("ngTemplateOutlet",t),s(),p(n.nxFooter()?3:-1)}}function Be(e,i){e&1&&g(0)}function Re(e,i){if(e&1&&d(0,Be,1,0,"ng-container",5),e&2){l();let n=A(5);c("ngTemplateOutlet",n)}}function Le(e,i){e&1&&g(0)}function Ae(e,i){if(e&1&&d(0,Le,1,0,"ng-container",5),e&2){let n=l(3);c("ngTemplateOutlet",n.nxLoadingRender())}}function Ie(e,i){e&1&&Q(0,"nx-bubble-loading")}function Oe(e,i){if(e&1&&x(0,Ae,1,1,"ng-container")(1,Ie,1,0,"nx-bubble-loading"),e&2){let n=l(2);p(n.nxLoadingRender()?0:1)}}function Fe(e,i){e&1&&g(0)}function Ee(e,i){if(e&1&&d(0,Fe,1,0,"ng-container",8),e&2){let n=l(2);c("ngTemplateOutlet",n.nxMessageRender())("ngTemplateOutletContext",oe(2,ve,n.typedContent()))}}function ke(e,i){if(e&1&&(y(0),_(1),h()),e&2){let n=l(4);s(),ne(n.nxTyping().suffix)}}function He(e,i){if(e&1&&d(0,ke,2,1,"ng-container",9),e&2){let n=l(3);c("nzStringTemplateOutlet",n.nxTyping().suffix)}}function we(e,i){if(e&1&&(_(0),x(1,He,1,1,"ng-container")),e&2){let n=l(2);N(" ",n.typedContent()," "),s(),p(n.isTyping()&&n.nxTyping().suffix?1:-1)}}function Ve(e,i){if(e&1&&(u(0,"div"),x(1,Oe,2,1)(2,Ee,1,4,"ng-container")(3,we,2,2),b()),e&2){let n=l();I(n.contentCls()),s(),p(n.nxLoading()?1:n.nxMessageRender()?2:3)}}var Pe=(e,i)=>i.key;function Ue(e,i){if(e&1){let n=L();u(0,"nx-bubble",1),T("nxContentUpdate",function(){D(n);let o=l();return B(o.setContentUpdate())}),b()}if(e&2){let n=i.$implicit,t=i.$index,o=i.$count,a=l().getMergedItem(n,t);c("key",a.key??t)("nxContent",a.content??"")("nxPlacement",a.placement??"start")("nxShape",a.shape??"default")("nxVariant",a.variant??"filled")("nxTyping",t===o-1&&a.typing)("nxAvatar",a.avatar)("nxHeader",a.headerRender??null)("nxFooter",a.footerRender??null)("nxMessageRender",a.messageRender??null)("nxLoading",a.loading)("nxLoadingRender",a.loadingRender??null)}}var sn=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275dir=R({type:e,selectors:[["nz-avatar","nx-bubble-avatar",""]],hostAttrs:[1,"ant-bubble-avatar"],exportAs:["nxBubbleAvatar"]})}return e})(),je=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["nx-bubble-loading"]],hostAttrs:[1,"ant-bubble-dot"],decls:3,vars:0,consts:[[1,"ant-bubble-dot-item"]],template:function(t,o){t&1&&W(0,"i",0)(1,"i",0)(2,"i",0)},encapsulation:2,changeDetection:0})}return e})(),_e={enabled:!1,step:0,interval:0,suffix:null};function $e(e){if(e){let i={step:1,interval:50,suffix:null};return typeof e=="object"&&(i=m(m({},i),e)),k(m({},i),{enabled:!0})}else return _e}var C=(()=>{class e{nxContent=r("");nxMessageRender=r(null);nxAvatar=r();nxHeader=r(null);nxFooter=r(null);nxLoading=r();nxLoadingRender=r(null);nxPlacement=r("start");nxShape=r("default");nxTyping=r(_e,{transform:$e});nxVariant=r("filled");key;templateContext=f(()=>({content:this.nxContent(),info:{key:this.key}}));hostCls=f(()=>`ant-bubble ant-bubble-${this.nxPlacement()}`);contentCls=f(()=>({"ant-bubble-content":!0,[`ant-bubble-content-${this.nxVariant()}`]:!0,[`ant-bubble-content-${this.nxShape()}`]:this.nxShape()!=="default"}));typedContent=le({source:this.nxContent,computation:(n,t)=>this.nxTyping().enabled&&n?t?.value&&n.indexOf(t.value)!==-1?n.slice(0,this.typingIndex):(this.typingIndex=1,n.slice(0,1)):n});isTyping=f(()=>this.nxTyping().enabled&&this.typedContent().length<this.nxContent().length);nxContentUpdate=pe(F(this.typedContent).pipe(H(()=>{})));nxTypingComplete=re();typingIndex=1;typingSubscription=null;constructor(){S(n=>{this.nxTyping().enabled&&this.startTyping(this.nxContent(),this.nxTyping()),n(()=>{this.typingSubscription?.unsubscribe(),this.typingSubscription=null})})}startTyping(n,t){this.typingSubscription=w(t.interval).pipe(V(()=>this.typingIndex<n.length)).subscribe(()=>{this.typingIndex=Math.min(this.typingIndex+t.step,n.length),this.typingIndex===n.length&&this.nxTypingComplete.emit(),this.typedContent.set(n.slice(0,this.typingIndex))})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["nx-bubble"]],hostVars:4,hostBindings:function(t,o){t&2&&(I(o.hostCls()),Z("ant-bubble-typing",o.isTyping()&&!o.nxMessageRender()&&!o.nxLoading()&&!o.nxTyping().suffix))},inputs:{nxContent:[1,"nxContent"],nxMessageRender:[1,"nxMessageRender"],nxAvatar:[1,"nxAvatar"],nxHeader:[1,"nxHeader"],nxFooter:[1,"nxFooter"],nxLoading:[1,"nxLoading"],nxLoadingRender:[1,"nxLoadingRender"],nxPlacement:[1,"nxPlacement"],nxShape:[1,"nxShape"],nxTyping:[1,"nxTyping"],nxVariant:[1,"nxVariant"]},outputs:{nxContentUpdate:"nxContentUpdate",nxTypingComplete:"nxTypingComplete"},exportAs:["nxBubble"],ngContentSelectors:Ce,decls:6,vars:1,consts:[["contentTpl",""],[1,"ant-bubble-content-wrapper"],[1,"ant-bubble-avatar",3,"nzShape","nzSize","nzGap","nzText","nzSrc","nzSrcSet","nzAlt","nzIcon","style"],[1,"ant-bubble-avatar",3,"nzError","nzShape","nzSize","nzGap","nzText","nzSrc","nzSrcSet","nzAlt","nzIcon"],[1,"ant-bubble-header"],[4,"ngTemplateOutlet"],[1,"ant-bubble-footer"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"nzStringTemplateOutlet"]],template:function(t,o){t&1&&(Y(fe),J(0,0,null,he,2,2),x(2,De,4,3,"div",1)(3,Re,1,1,"ng-container"),d(4,Ve,4,3,"ng-template",null,0,ae)),t&2&&(s(2),p(o.nxHeader()||o.nxFooter()?2:3))},dependencies:[be,ue,ge,me,je,de],encapsulation:2,changeDetection:0})}return e})(),Ge=(()=>{class e{key=r.required();bubble=z(C);constructor(){S(()=>{this.bubble.key=this.key()})}static \u0275fac=function(t){return new(t||e)};static \u0275dir=R({type:e,selectors:[["nx-bubble","nx-bubble-list-item",""]],inputs:{key:[1,"key"]}})}return e})(),qe=(()=>{class e{nxAutoScroll=r(!0,{transform:ce});nxItems=r.required();nxRoles=r();bubbleList=se(C);contentUpdate=U(0);setContentUpdate(){this.contentUpdate.update(n=>n+1)}getRole=(n,t)=>{let o=this.nxRoles();return typeof o=="function"?o(n,t):n.role&&o?o[n.role]||{}:{}};getMergedItem(n,t){return m(m({},this.getRole(n,t)),n)}scrollReachEnd=!0;elementRef=z(j);constructor(){S(()=>{this.nxAutoScroll()&&this.bubbleList().length&&this.contentUpdate()&&this.scrollReachEnd&&this.scrollTo({offset:this.elementRef.nativeElement.scrollHeight})}),F(this.bubbleList).pipe(xe()).subscribe(n=>{this.nxAutoScroll()&&n.length&&this.scrollTo({offset:this.elementRef.nativeElement.scrollHeight})})}onInternalScroll(n){let t=n.target;this.scrollReachEnd=t.scrollHeight-Math.abs(t.scrollTop)-t.clientHeight<=1}scrollTo(n){let{key:t,offset:o,behavior:a="smooth",block:M}=n;if(typeof o=="number")this.elementRef.nativeElement.scrollTo({top:o,behavior:a});else if(t!==void 0){let E=this.elementRef.nativeElement.children[t];E&&E.scrollIntoView({behavior:a,block:M})}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["nx-bubble-list"]],viewQuery:function(t,o){t&1&&K(o.bubbleList,C,5),t&2&&X()},hostAttrs:[1,"ant-bubble-list"],hostBindings:function(t,o){t&1&&T("scroll",function(M){return o.onInternalScroll(M)})},inputs:{nxAutoScroll:[1,"nxAutoScroll"],nxItems:[1,"nxItems"],nxRoles:[1,"nxRoles"]},exportAs:["nxBubbleList"],decls:2,vars:0,consts:[["nx-bubble-list-item","",3,"key","nxContent","nxPlacement","nxShape","nxVariant","nxTyping","nxAvatar","nxHeader","nxFooter","nxMessageRender","nxLoading","nxLoadingRender"],["nx-bubble-list-item","",3,"nxContentUpdate","key","nxContent","nxPlacement","nxShape","nxVariant","nxTyping","nxAvatar","nxHeader","nxFooter","nxMessageRender","nxLoading","nxLoadingRender"]],template:function(t,o){t&1&&G(0,Ue,1,12,"nx-bubble",0,Pe),t&2&&q(o.nxItems())},dependencies:[C,Ge],encapsulation:2,changeDetection:0})}return e})(),cn=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=$({type:e});static \u0275inj=P({imports:[C,qe]})}return e})();export{sn as a,C as b,qe as c,cn as d};
